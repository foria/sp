
body.menu-opened {
    height: 100%;
    overflow: hidden;
}

.main-header {
    @include responsive-size("height", 60);
    @include responsive-size("padding-left", 26);
    @include responsive-size("padding-right", 26);

    background-color: rgba(255,255,255,.5);
    border-bottom-right-radius: 40px;
    position: fixed;
    top: 0;
    left: 50%;
    transform: translate(-50%, 0);
    z-index: $zindex-modal - 2;

    &:hover {
        background-color: white;
    }

    .home-page & {
        transform: translate(-50%, -220%);
        transition: transform .5s ease-out;
    }

    .home-page.sticky-header & {
        transform: translate(-50%, 0);
    }

    &:before {
        content: "";
        @include responsive-size("width", 138);
        @include responsive-size("height", (138 / 2) );
        position: absolute;
        top: 100%;
        left: 0;
        @include responsive-size("border-bottom-right-radius", (138 / 2) );
        @include responsive-size("border-bottom-left-radius", (138 / 2) );
        background-color: rgba(255,255,255,.5);
    };


    &:hover,
    &:hover:before {
        background-color: white;
    }
}

.logo {
    //display: inline-block;
    @include responsive-size("width", 188 );
    @include responsive-size("height", 188 );
    background: url("../images/ruota_01.svg") center no-repeat;
    background-size: contain;
    position: absolute;
    @include responsive-size("left", -27 );
    @include responsive-size("bottom", -96 );
    transition: opacity .1s;
    transition-delay: 0s;

    .home-page & {
        opacity: 0;
    }

    .home-page.sticky-header & {
        opacity: 1;
        transition-delay: .5s;
    }
}

.front-menu {
    height: 100%;
}


.nav-trigger {
    @include responsive-size("width", 21 );
    @include responsive-size("height", 15 );
    cursor: pointer;
    transition: top .1s ease-in-out;
    @include responsive-size("margin-top", -8 );
    @include responsive-size("margin-left", 20 );
    z-index: ($zindex-modal+1);

    span {
        display: block;
        width: 100%;
        height: 2px;
        background: map-deep-get($theme-colors, primary);
        margin: 4px auto;
        transition: all 0.3s ease-in-out;
    }

    &:hover {
        span {
            background: map-deep-get($theme-colors, secondary);
        }
    }

    body.menu-opened & {
        span {
            background: white;

            &:first-child {
                transform: translateY(5px) rotate(45deg);
            }

            &:nth-child(2) {
                transform: translateX(50px);
                opacity: 0;
            }

            &:last-child {
                transform: translateY(-7px) rotate(-45deg);
            }
        }
    }

}

.nav-menu {
    height: 100%;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    display: none;
    z-index: $zindex-modal;
    background: rgba(0, 41, 90, .95);
    text-align: left;
    //transition: background 1s ease-in-ou;

    .nav-trigger {
        position: absolute;
        @include responsive-size("top", 25);
        left: calc( 50% + #{map-get($container-max-widths, lg) / 2} - 26px );
        transform: translateX(-100%);

        @include media-breakpoint-down(md) {
            left: auto;
            right: 16px;
        }
    }

    ul {
        list-style-type: none;
        @include responsive-size("margin-top", 80 );
        @include responsive-size("margin-top", 10, vh );
        @include responsive-size("padding-left", 10, % );
        width: 100%;
        transition: opacity .35s, visibility .35s, height .35s;
        opacity: 0;

        @include media-breakpoint-down(sm){
            padding-left: 20%;
        }

        body.menu-opened & {
            opacity: 1;
        }

        li {
            @include responsive-size("margin-bottom", 4, vh );
            position: relative;

            &:before {
                display: block;
                position: absolute;
                top: -6px;
                left: 0;
                transform: translatex(-120%);
                background: url('../images/arrow_menu.svg')  center no-repeat;
                @include responsive-size("width", 58 );
                @include responsive-size("height", 46 );
            }

            &:not(:last-child):hover:before,
            &.active:before {
                content: "";
            }

            &:last-child {
                margin-top: 10vh;

                svg {
                    @include responsive-size("width", 25 );
                    @include responsive-size("height", 24 );
                    position: absolute;
                    top: -2px;
                    left: 0;
                    transform: translatex(-120%);

                    path {
                        fill: white;
                    }
                }
                a {
                    @include responsive-size("font-size", 18 );
                }

                &:hover {
                    svg path {
                        fill: map-get($theme-colors, primary);
                    }
                }
            }

            &.active a {
                color: map-deep-get($theme-colors, primary);
            }

        }

        a {
            display: block;
            color: $white;
            text-decoration: none;
            @include responsive-size("font-size", 27 );

            @include media-breakpoint-down(sm){
                font-size: 18px;
            }

            &:hover {
                color: map-deep-get($theme-colors, primary);
            }
        }
    }
}
